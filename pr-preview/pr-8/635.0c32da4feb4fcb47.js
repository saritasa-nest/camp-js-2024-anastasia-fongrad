"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[635],{9635:(V,d,i)=>{i.r(d),i.d(d,{RegistrationComponent:()=>N});var t=i(7788),p=i(4947),g=i(922),s=i(6482),f=i(8698),l=i(2221);let v=(()=>{class e{constructor(){this.dialogRef=(0,t.WQX)(s.CP)}static#t=this.\u0275fac=function(r){return new(r||e)};static#r=this.\u0275cmp=t.VBU({type:e,selectors:[["camp-root"]],standalone:!0,features:[t.aNF],decls:7,vars:0,consts:[["mat-dialog-title",""],["type","button","mat-button","","mat-dialog-close","","cdkFocusInitial",""]],template:function(r,o){1&r&&(t.j41(0,"h2",0),t.EFF(1,"Registration successful"),t.k0s(),t.j41(2,"mat-dialog-content"),t.EFF(3," You have successfully registered in the system. Enter your details to log in.\n"),t.k0s(),t.j41(4,"mat-dialog-actions")(5,"button",1),t.EFF(6,"Ok"),t.k0s()())},dependencies:[l.Hl,l.$z,s.E7,s.tx,s.BI,s.Yi],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})();var u,n=i(7222),c=i(2073),h=i(4587),F=i(7443),R=i(7212),C=i(7617),E=i(3527),y=i(4526),S=i(7236),b=i(6610);(u||(u={})).initialize=function m(a){const r=a.control("",[n.k0.required,e=>{const m=/\d/.test(e.value),a=/[a-z]/.test(e.value);return m&&a&&e.value?.length>=8?null:{strong:!0}}]),o=a.control("",[n.k0.required,(e=r,m=>m.value!==e.value?{mustMatch:!0}:null)]);var e;return r.valueChanges.subscribe(()=>{o.updateValueAndValidity()}),a.group({email:a.control("",[n.k0.required,n.k0.email]),firstName:a.control("",[n.k0.required]),lastName:a.control("",[n.k0.required]),password:r,confirmPassword:o})};let k=(()=>{class e{constructor(){this.registrationSuccess=new t.bkB,this.formValidationService=(0,t.WQX)(C.$),this.formBuilder=(0,t.WQX)(n.Qk),this.registrationService=(0,t.WQX)(F.L),this.destroyRef=(0,t.WQX)(t.abz),this.changeDetectorRef=(0,t.WQX)(t.gRc),this.registrationForm=u.initialize(this.formBuilder)}ngOnInit(){this.initializeErrorsReset()}initializeErrorsReset(){Object.keys(this.registrationForm.controls).forEach(a=>{const r=this.registrationForm.get(a);r?.valueChanges.pipe((0,R.pQ)(this.destroyRef)).subscribe(()=>{r.setErrors(null)})})}onSubmit(){if(!this.registrationForm?.valid)return;const a=this.registrationForm.getRawValue();this.registrationService.register(a).pipe((0,E.T)(()=>{}),(0,y.W)(r=>this.formValidationService.parseError(r)),(0,S.M)(r=>{r?(this.formValidationService.setFormErrors(this.registrationForm,r),this.changeDetectorRef.markForCheck()):this.registrationSuccess.emit()})).subscribe()}static#t=this.\u0275fac=function(r){return new(r||e)};static#r=this.\u0275cmp=t.VBU({type:e,selectors:[["camp-registration-form"]],outputs:{registrationSuccess:"registrationSuccess"},standalone:!0,features:[t.aNF],decls:37,vars:8,consts:[[1,"registration"],[1,"registration__form",3,"ngSubmit","formGroup"],[1,"registration__group"],["appearance","fill"],["matInput","","id","firstName","type","text","formControlName","firstName"],["matInput","","id","lastName","type","text","formControlName","lastName"],["matInput","","id","email","type","email","formControlName","email"],["matInput","","id","password","type","password","formControlName","password"],["matInput","","id","confirmPassword","type","password","formControlName","confirmPassword"],[1,"registration__form-error"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"First Name"),t.k0s(),t.nrm(6,"input",4),t.j41(7,"mat-error"),t.EFF(8),t.k0s()(),t.j41(9,"mat-form-field",3)(10,"mat-label"),t.EFF(11,"Last Name"),t.k0s(),t.nrm(12,"input",5),t.j41(13,"mat-error"),t.EFF(14),t.k0s()(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Email"),t.k0s(),t.nrm(18,"input",6),t.j41(19,"mat-error"),t.EFF(20),t.k0s()(),t.j41(21,"mat-form-field",3)(22,"mat-label"),t.EFF(23,"Password"),t.k0s(),t.nrm(24,"input",7),t.j41(25,"mat-error"),t.EFF(26),t.k0s()(),t.j41(27,"mat-form-field",3)(28,"mat-label"),t.EFF(29,"Repeat Password"),t.k0s(),t.nrm(30,"input",8),t.j41(31,"mat-error"),t.EFF(32),t.k0s()(),t.j41(33,"div",9),t.EFF(34),t.k0s(),t.j41(35,"button",10),t.EFF(36,"Register"),t.k0s()()()()),2&r&&(t.R7$(),t.Y8G("formGroup",o.registrationForm),t.R7$(7),t.JRh(o.formValidationService.getControlErrorMessage(o.registrationForm.controls.firstName)),t.R7$(6),t.JRh(o.formValidationService.getControlErrorMessage(o.registrationForm.controls.lastName)),t.R7$(6),t.JRh(o.formValidationService.getControlErrorMessage(o.registrationForm.controls.email)),t.R7$(6),t.JRh(o.formValidationService.getControlErrorMessage(o.registrationForm.controls.password)),t.R7$(6),t.JRh(o.formValidationService.getControlErrorMessage(o.registrationForm.controls.confirmPassword)),t.R7$(2),t.JRh(o.formValidationService.getFormErrorMessage(o.registrationForm)),t.R7$(),t.Y8G("disabled",!o.registrationForm.valid))},dependencies:[n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,l.Hl,l.$z,c.RG,c.rl,c.nJ,c.TL,h.fS,h.fg,b.MD],styles:[".registration__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-8);max-width:700px}.registration__group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-2)}.form__file-input[_ngcontent-%COMP%]{width:100%;margin:0 0 var(--space-5) 0}.form__file-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.form__avatar[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 0 var(--space-5) 0;gap:var(--space-5);background-color:var(--surface-overlay);border-radius:10px;padding:var(--space-5)}.form__avatar-container[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;overflow:hidden}.form__avatar-img[_ngcontent-%COMP%]{max-width:100%;object-fit:cover}.registration__form-error[_ngcontent-%COMP%]{color:var(--error-color);font-size:var(--body-small);line-height:var(--body-small-line-height)}"],changeDetection:0})}return e})();const P=e=>[e];let N=(()=>{class e{constructor(){this.appRoutes=f.S,this.dialog=(0,t.WQX)(s.bZ),this.router=(0,t.WQX)(g.Ix)}onRegistrationSuccess(){this.dialog.open(v),this.router.navigate([f.S.Login])}static#t=this.\u0275fac=function(r){return new(r||e)};static#r=this.\u0275cmp=t.VBU({type:e,selectors:[["camp-registration"]],standalone:!0,features:[t.aNF],decls:13,vars:3,consts:[[1,"main"],[1,"main__auth","auth"],[1,"auth__container","container"],[1,"auth__content"],[1,"auth__registration-group"],[1,"auth__header"],[3,"registrationSuccess"],[1,"auth__switch"],[3,"routerLink"]],template:function(r,o){1&r&&(t.nrm(0,"camp-header"),t.j41(1,"main",0)(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),t.EFF(7,"Registration"),t.k0s(),t.j41(8,"camp-registration-form",6),t.bIt("registrationSuccess",function(){return o.onRegistrationSuccess()}),t.k0s(),t.j41(9,"div",7),t.EFF(10," Already have an account? "),t.j41(11,"a",8),t.EFF(12,"Login"),t.k0s()()()()()()()),2&r&&(t.R7$(11),t.Y8G("routerLink",t.eq3(1,P,"/"+o.appRoutes.Login)))},dependencies:[p.l,k,g.iI,g.Wk],styles:[".auth__content[_ngcontent-%COMP%]{margin:var(--space-20) 0}.auth__header[_ngcontent-%COMP%]{font-size:var(--title);line-height:var(--title-line-height);font-weight:var(--text-semibold)}.auth__registration-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-8)}"],changeDetection:0})}return e})()}}]);