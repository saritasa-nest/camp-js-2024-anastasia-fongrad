"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[8],{7008:(L,c,n)=>{n.r(c),n.d(c,{LoginComponent:()=>j});var m,o=n(7788),d=n(7792),u=n(8698),l=n(922),s=n(8832),a=n(2130),g=n(4587),h=n(2221),p=n(4232),v=n(8556),F=n(9090),S=n(7236),E=n(7212),f=n(6610);(m||(m={})).initialize=function C(r){return r.group({email:r.control("",[s.k0.required,s.k0.email]),password:r.control("",[s.k0.required])})};let b=(()=>{class i{constructor(){this.loginSuccess=new o.bkB,this.formBuilder=(0,o.WQX)(s.Qk),this.authService=(0,o.WQX)(p.L),this.formValidationService=(0,o.WQX)(v.$),this.loginErrorsSubject$=new F.m(1),this.destroyRef=(0,o.WQX)(o.abz),this.loginForm=m.initialize(this.formBuilder),this.loginErrors$=this.loginErrorsSubject$.asObservable()}ngOnInit(){this.initializeFormValues()}initializeFormValues(){Object.keys(this.loginForm.controls).forEach(r=>{const t=this.loginForm.get(r);t?.valueChanges.pipe((0,E.pQ)(this.destroyRef)).subscribe(()=>{t.setErrors(null)})})}getFieldError(r,t){return this.formValidationService.getErrorMessage(this.loginForm,t,r)}onSubmit(){if(!this.loginForm?.valid)return;const r=this.loginForm.getRawValue();this.authService.login(r).pipe((0,S.M)(t=>{t?this.formValidationService.setFormErrors(this.loginForm,t):this.loginSuccess.emit(),this.loginErrorsSubject$.next(t)})).subscribe()}static#o=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275cmp=o.VBU({type:i,selectors:[["camp-login-form"]],outputs:{loginSuccess:"loginSuccess"},standalone:!0,features:[o.aNF],decls:20,vars:11,consts:[[1,"login__form",3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","id","email","type","email","formControlName","email"],["matInput","","id","password","type","password","formControlName","password"],[1,"login__form-error"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,e){1&t&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(){return e.onSubmit()}),o.j41(1,"mat-form-field",1)(2,"mat-label"),o.EFF(3,"Email"),o.k0s(),o.nrm(4,"input",2),o.j41(5,"mat-error"),o.EFF(6),o.nI1(7,"async"),o.k0s()(),o.j41(8,"mat-form-field",1)(9,"mat-label"),o.EFF(10,"Password"),o.k0s(),o.nrm(11,"input",3),o.j41(12,"mat-error"),o.EFF(13),o.nI1(14,"async"),o.k0s()(),o.j41(15,"div",4),o.EFF(16),o.nI1(17,"async"),o.k0s(),o.j41(18,"button",5),o.EFF(19,"Login"),o.k0s()()),2&t&&(o.Y8G("formGroup",e.loginForm),o.R7$(6),o.JRh(e.getFieldError(o.bMT(7,5,e.loginErrors$),"email")),o.R7$(7),o.JRh(e.getFieldError(o.bMT(14,7,e.loginErrors$),"password")),o.R7$(3),o.JRh(e.getFieldError(o.bMT(17,9,e.loginErrors$),"form")),o.R7$(2),o.Y8G("disabled",!e.loginForm.valid))},dependencies:[s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,h.Hl,h.$z,a.RG,a.rl,a.nJ,a.TL,g.fS,g.fg,f.MD,f.Jj],styles:[".login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-2);max-width:700px}.login__form-error[_ngcontent-%COMP%]{color:var(--error-color);font-size:var(--body-small);line-height:var(--body-small-line-height)}"]})}return i})();const y=i=>[i];let j=(()=>{class i{constructor(){this.appRoutes=u.S,this.router=(0,o.WQX)(l.Ix)}onLoginSuccess(){this.router.navigate([u.S.Home])}static#o=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275cmp=o.VBU({type:i,selectors:[["camp-login"]],standalone:!0,features:[o.aNF],decls:13,vars:3,consts:[[1,"main"],[1,"main__auth","auth"],[1,"auth__container","container"],[1,"auth__content"],[1,"auth__login-group"],[1,"auth__header"],[3,"loginSuccess"],[1,"auth__switch"],[3,"routerLink"]],template:function(t,e){1&t&&(o.nrm(0,"camp-header"),o.j41(1,"main",0)(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1",5),o.EFF(7,"Login"),o.k0s(),o.j41(8,"camp-login-form",6),o.bIt("loginSuccess",function(){return e.onLoginSuccess()}),o.k0s(),o.j41(9,"div",7),o.EFF(10," Don't have an account? "),o.j41(11,"a",8),o.EFF(12,"Register"),o.k0s()()()()()()()),2&t&&(o.R7$(11),o.Y8G("routerLink",o.eq3(1,y,"/"+e.appRoutes.Registration)))},dependencies:[d.l,b,l.iI,l.Wk],styles:[".auth__content[_ngcontent-%COMP%]{margin:var(--space-20) 0}.auth__header[_ngcontent-%COMP%]{font-size:var(--title);line-height:var(--title-line-height);font-weight:var(--text-semibold)}.auth__login-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-8)}"]})}return i})()}}]);