import{s as Ge,a as Te,r as c,u as Ae,e as De,_ as E,j as n,b as g,c as N,f as ae,d as Oe,g as L,h as Ee,T as Le,C as ze,i as W,k as z,B as Me,l as fe,m as Qe,n as R,o as X,p as J,q as Ue,t as ge,v as ye,w as oe,L as M,x as Q,y as Ve,z as be,A,D as xe,E as U,F as _e,P as qe,I as Y,G as B,H as Ce,J as Ke,K,M as Ze,N as He,O as We,Q as Xe,R as Je}from"./index-CFbIeGq7.js";import{u as Ye,F as ve,I as je,S as ke,M as D,a as et,d as tt,b as Se}from"./Search-Cf-dVzJr.js";import{B as Ie}from"./Button-B-qbwqcS.js";const st=["className","component"];function nt(e={}){const{themeId:t,defaultTheme:a,defaultClassName:s="MuiBox-root",generateClassName:o}=e,i=Ge("div",{shouldForwardProp:m=>m!=="theme"&&m!=="sx"&&m!=="as"})(Te);return c.forwardRef(function(r,l){const h=Ae(a),d=De(r),{className:p,component:y="div"}=d,b=E(d,st);return n.jsx(i,g({as:y,ref:l,className:N(p,o?o(s):s),theme:t&&h[t]||h},b))})}function at(e,t=0,a=1){return Oe(e,t,a)}function ot(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let a=e.match(t);return a&&a[0].length===1&&(a=a.map(s=>s+s)),a?`rgb${a.length===4?"a":""}(${a.map((s,o)=>o<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function Be(e){if(e.type)return e;if(e.charAt(0)==="#")return Be(ot(e));const t=e.indexOf("("),a=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(a)===-1)throw new Error(ae(9,e));let s=e.substring(t+1,e.length-1),o;if(a==="color"){if(s=s.split(" "),o=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(ae(10,o))}else s=s.split(",");return s=s.map(i=>parseFloat(i)),{type:a,values:s,colorSpace:o}}function rt(e){const{type:t,colorSpace:a}=e;let{values:s}=e;return t.indexOf("rgb")!==-1?s=s.map((o,i)=>i<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),t.indexOf("color")!==-1?s=`${a} ${s.join(" ")}`:s=`${s.join(", ")}`,`${t}(${s})`}function it(e,t){return e=Be(e),t=at(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,rt(e)}function ct(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function lt(e){return parseFloat(e)}const dt=L("MuiBox",["root"]),ut=Ee(),F=nt({themeId:Le,defaultTheme:ut,defaultClassName:dt.root,generateClassName:ze.generate});function ht(e){return W("PrivateSwitchBase",e)}L("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const mt=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],pt=e=>{const{classes:t,checked:a,disabled:s,edge:o}=e,i={root:["root",a&&"checked",s&&"disabled",o&&`edge${R(o)}`],input:["input"]};return X(i,ht,t)},ft=z(Me)(({ownerState:e})=>g({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),gt=z("input",{shouldForwardProp:fe})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),yt=c.forwardRef(function(t,a){const{autoFocus:s,checked:o,checkedIcon:i,className:u,defaultChecked:m,disabled:r,disableFocusRipple:l=!1,edge:h=!1,icon:d,id:p,inputProps:y,inputRef:b,name:x,onBlur:C,onChange:v,onFocus:k,readOnly:f,required:_=!1,tabIndex:P,type:I,value:ee}=t,Pe=E(t,mt),[te,Fe]=Qe({controlled:o,default:!!m,name:"SwitchBase",state:"checked"}),S=Ye(),we=j=>{k&&k(j),S&&S.onFocus&&S.onFocus(j)},$e=j=>{C&&C(j),S&&S.onBlur&&S.onBlur(j)},Re=j=>{if(j.nativeEvent.defaultPrevented)return;const ne=j.target.checked;Fe(ne),v&&v(j,ne)};let w=r;S&&typeof w>"u"&&(w=S.disabled);const Ne=I==="checkbox"||I==="radio",q=g({},t,{checked:te,disabled:w,disableFocusRipple:l,edge:h}),se=pt(q);return n.jsxs(ft,g({component:"span",className:N(se.root,u),centerRipple:!0,focusRipple:!l,disabled:w,tabIndex:null,role:void 0,onFocus:we,onBlur:$e,ownerState:q,ref:a},Pe,{children:[n.jsx(gt,g({autoFocus:s,checked:o,defaultChecked:m,className:se.input,disabled:w,id:Ne?p:void 0,name:x,onChange:Re,readOnly:f,ref:b,required:_,ownerState:q,tabIndex:P,type:I},I==="checkbox"&&ee===void 0?{}:{value:ee},y)),te?i:d]}))}),bt=J(n.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),xt=J(n.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),_t=J(n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Ct(e){return W("MuiCheckbox",e)}const Z=L("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),vt=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],jt=e=>{const{classes:t,indeterminate:a,color:s,size:o}=e,i={root:["root",a&&"indeterminate",`color${R(s)}`,`size${R(o)}`]},u=X(i,Ct,t);return g({},t,u)},kt=z(yt,{shouldForwardProp:e=>fe(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.indeterminate&&t.indeterminate,t[`size${R(a.size)}`],a.color!=="default"&&t[`color${R(a.color)}`]]}})(({theme:e,ownerState:t})=>g({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Z.checked}, &.${Z.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Z.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),St=n.jsx(xt,{}),It=n.jsx(bt,{}),Bt=n.jsx(_t,{}),Pt=c.forwardRef(function(t,a){var s,o;const i=ge({props:t,name:"MuiCheckbox"}),{checkedIcon:u=St,color:m="primary",icon:r=It,indeterminate:l=!1,indeterminateIcon:h=Bt,inputProps:d,size:p="medium",className:y}=i,b=E(i,vt),x=l?h:r,C=l?h:u,v=g({},i,{color:m,indeterminate:l,size:p}),k=jt(v);return n.jsx(kt,g({type:"checkbox",inputProps:g({"data-indeterminate":l},d),icon:c.cloneElement(x,{fontSize:(s=x.props.fontSize)!=null?s:p}),checkedIcon:c.cloneElement(C,{fontSize:(o=C.props.fontSize)!=null?o:p}),ownerState:v,ref:a,className:N(k.root,y)},b,{classes:k}))});function Ft(e){return W("MuiSkeleton",e)}L("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const wt=["animation","className","component","height","style","variant","width"];let O=e=>e,re,ie,ce,le;const $t=e=>{const{classes:t,variant:a,animation:s,hasChildren:o,width:i,height:u}=e;return X({root:["root",a,s,o&&"withChildren",o&&!i&&"fitContent",o&&!u&&"heightAuto"]},Ft,t)},Rt=ye(re||(re=O`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Nt=ye(ie||(ie=O`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Gt=z("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],a.animation!==!1&&t[a.animation],a.hasChildren&&t.withChildren,a.hasChildren&&!a.width&&t.fitContent,a.hasChildren&&!a.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const a=ct(e.shape.borderRadius)||"px",s=lt(e.shape.borderRadius);return g({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:it(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${s}${a}/${Math.round(s/.6*10)/10}${a}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&oe(ce||(ce=O`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Rt),({ownerState:e,theme:t})=>e.animation==="wave"&&oe(le||(le=O`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Nt,(t.vars||t).palette.action.hover)),de=c.forwardRef(function(t,a){const s=ge({props:t,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:u="span",height:m,style:r,variant:l="text",width:h}=s,d=E(s,wt),p=g({},s,{animation:o,component:u,variant:l,hasChildren:!!d.children}),y=$t(p);return n.jsx(Gt,g({as:u,ref:a,className:N(y.root,i),ownerState:p},d,{style:g({width:h,height:m},r)}))}),Tt="/camp-js-2024-anastasia-fongrad/pr-preview/pr-12/assets/loading-Crz_qi3L.webp",At="_loading__image_18u9l_1",Dt={loading__image:At},Ot=()=>n.jsx(M,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:n.jsx("img",{src:Tt,className:Dt.loading__image})}),Et=c.memo(Ot),Lt=Q(e=>e.genres.genres,e=>e),zt=Q(e=>e.genres.isLoading,e=>e),Mt=Q(e=>e.genres.hasNext,e=>e);Q(e=>e.genres.error,e=>e);const Qt=()=>n.jsx(M,{alignItems:"center",sx:{borderBottom:1,borderColor:"rgba(0 0 0 / 5%)"},children:n.jsxs(F,{display:"flex",flex:"1 1 0",flexDirection:"column",gap:1,children:[n.jsx(de,{width:"40%"}),n.jsx(de,{width:"60%"})]})}),Ut=c.memo(Qt);function V(){const{pathname:e,search:t}=Ve(),a=be(),s=new URLSearchParams(t),o=Object.fromEntries(s.entries()),i=r=>new URLSearchParams(t).get(r)??null,u=r=>{const l={};return r.map(h=>{const d=i(h);l[h]=d}),l};function m(r,l=e,h){const d=new URLSearchParams(t);Object.entries(r).forEach(([b,x])=>{x==null?d.delete(b):d.set(b,String(x))});const p=d.toString(),y=`${l}${p?`?${p}`:""}`;a(y,{replace:h})}return{queryParams:o,getQueryParamByKey:i,getQueryParamsByKeys:u,setQueryParams:r=>m(r),directToPathWithQueryParams:(r,l)=>m(r,l,!1)}}const Vt="_sort_lcnhc_1",qt={sort:Vt};var H=(e=>(e.SortByNameAsc="Sort by name (A - Z)",e.SortByNameDesc="Sort by name (Z - A)",e.SortByTypeAsc="Sort by type (A - Z)",e.SortByTypeDesc="Sort by type (Z - A)",e))(H||{});const G={"Sort by name (A - Z)":{sortField:"name",sortDirection:"asc"},"Sort by name (Z - A)":{sortField:"name",sortDirection:"desc"},"Sort by type (A - Z)":{sortField:"type",sortDirection:"asc"},"Sort by type (Z - A)":{sortField:"type",sortDirection:"desc"}},Kt=()=>{const{getQueryParamsByKeys:e,setQueryParams:t}=V(),{sortField:a,sortDirection:s}=e(["sortField","sortDirection"]),o={sortField:a,sortDirection:s},[i,u]=c.useState(o),m=Object.values(H),r=c.useCallback(d=>{const p=d.target.value;A(p,H);const y=G[p];u(y)},[u]),l=d=>Object.keys(G).find(p=>G[p].sortField===d.sortField&&G[p].sortDirection===d.sortDirection)??"Sort by name (A - Z)",h=d=>{d.stopPropagation(),u({sortDirection:null,sortField:null})};return c.useEffect(()=>{t(i)},[i]),n.jsx(F,{className:qt.sort,children:n.jsxs(ve,{children:[n.jsx(je,{id:"single-select-label",children:"Sort By"}),n.jsxs(ke,{labelId:"single-select-label",value:l(i),onChange:r,label:"Sort By",children:[m.map(d=>n.jsx(D,{value:d,children:d},d)),n.jsx(D,{children:n.jsx(Ie,{onClick:h,variant:"outlined",color:"secondary",children:"Reset"})})]})]})})},Zt=c.memo(Kt),Ht=c.forwardRef(({selected:e,genre:t,onClick:a},s)=>n.jsx(M,{disablePadding:!0,ref:s,children:n.jsx(xe,{onClick:a,selected:e,children:n.jsx(U,{primary:t.name,secondary:`Type - ${t.type}`})})})),ue=c.memo(Ht),Wt="_search_6oqtb_1",Xt="_search__form_6oqtb_7",T={search:Wt,search__form:Xt,"search__input-base":"_search__input-base_6oqtb_14","search__icon-button":"_search__icon-button_6oqtb_19"},Jt=()=>{const{getQueryParamByKey:e,setQueryParams:t}=V(),a=e("search")??"",[s,o]=c.useState(a),i=c.useCallback(u=>{u.preventDefault(),o(u.target.value)},[o]);return c.useEffect(()=>{const u=(s==null?void 0:s.length)!==0?s:null;t({search:u})},[s]),n.jsxs(F,{className:T.search,children:[n.jsx(_e,{variant:"h5",component:"h5",gutterBottom:!0,children:"search"}),n.jsxs(qe,{component:"form",className:T.search__form,children:[n.jsx(et,{className:T["search__input-base"],placeholder:"Search Genres ...","aria-label":"search genres",value:s,onChange:i}),n.jsx(Y,{type:"button",className:T["search__icon-button"],"aria-label":"search",color:"primary",children:n.jsx(tt,{})})]})]})},Yt=c.memo(Jt),es="_filters_9owr8_1",he={filters:es},me=[{value:B.FilterType.Genres,label:"Genres"},{value:B.FilterType.ExplicitGenres,label:"Explicit genres"},{value:B.FilterType.Themes,label:"Themes"},{value:B.FilterType.Demographics,label:"Demographics"}],ts=()=>{var m;const{getQueryParamByKey:e,setQueryParams:t}=V(),a=e("filter")==null?[]:((m=e("filter"))==null?void 0:m.split(","))??[],[s,o]=c.useState(a),i=c.useCallback(r=>{const{value:l}=r.target,h=typeof l=="string"?l.split(","):l;o(h)},[o]),u=c.useCallback(r=>{r.stopPropagation(),o([])},[o]);return c.useEffect(()=>{const r=s.length===0?null:s;t({filter:r})},[s]),n.jsx(F,{className:he.filters,children:n.jsxs(ve,{children:[n.jsx(je,{id:"multiple-filters-select-label",children:"Select Filters"}),n.jsxs(ke,{className:he.filters__select,labelId:"multiple-filters-select-label",label:"Select Filters",multiple:!0,value:s,onChange:i,renderValue:r=>n.jsx(_e,{noWrap:!0,children:r.map(l=>{var h;return(h=me.find(d=>d.value===l))==null?void 0:h.label}).join(", ")}),children:[me.map(r=>n.jsxs(D,{value:r.value,children:[n.jsx(Pt,{checked:s.includes(r.value)}),n.jsx(U,{primary:r.label})]},r.value)),n.jsx(D,{children:n.jsx(Ie,{onClick:u,variant:"outlined",color:"secondary",children:"Reset"})})]})]})})},ss=c.memo(ts);function ns(e,t){const[a,s]=c.useState(e),o=t*1e3;return c.useEffect(()=>{const i=setTimeout(()=>{s(e)},o);return()=>{clearTimeout(i)}},[e,t]),a}const pe={"genre-list":"_genre-list_19jpa_1","genre-list__items":"_genre-list__items_19jpa_10"},as=({onGenreClick:e})=>{const{genreId:t}=Ce(),[a,s]=c.useState(t?Number(t):void 0),o=Ke(),{getQueryParamsByKeys:i}=V(),u=K(Lt),m=K(zt),r=K(Mt),l=c.useRef(null),h=c.useRef(),d=c.useCallback(f=>{var _;(_=h.current)==null||_.disconnect(),f&&(h.current=new IntersectionObserver(P=>{var I;P[0].isIntersecting&&r&&(k(r),(I=h.current)==null||I.disconnect())}),h.current.observe(f))},[r]),p=c.useCallback(f=>{s(f),e(f)},[e]),{search:y,filter:b,sortField:x,sortDirection:C}=i(["search","filter","sortField","sortDirection"]),v=ns(y,1),k=c.useCallback(f=>{x!=null&&A(x,B.SortField),C!=null&&A(C,B.SortDirection);const _=b?b.split(",").map(P=>(A(P,B.FilterType),P)):null;o(Ze({search:v,filter:_,sort:x,direction:C,nextCursor:f}))},[v,b,x,C]);return c.useEffect(()=>{var f;(f=l.current)==null||f.scrollTo({top:0,behavior:"instant"}),k(null)},[v,b,x,C]),n.jsxs(F,{className:pe["genre-list"],children:[n.jsx(Yt,{}),n.jsx(ss,{}),n.jsx(Zt,{}),n.jsxs(He,{className:pe["genre-list__items"],ref:l,children:[n.jsx(M,{disablePadding:!0,children:n.jsxs(xe,{children:[n.jsx(Y,{edge:"start",color:"inherit","aria-label":"add",children:n.jsx(Se,{})}),n.jsx(U,{primary:"Add Genre"})]})}),m&&u.length===0&&Array.from(new Array(10)).map((f,_)=>n.jsx(Ut,{},_)),u.map((f,_)=>u.length===_+1?n.jsx(ue,{genre:f,ref:d,onClick:()=>p(f.id),selected:f.id===a},_):n.jsx(ue,{genre:f,onClick:()=>p(f.id),selected:f.id===a},_)),m&&n.jsx(Et,{})]})]})},os=c.memo(as),rs="_layout_54mps_1",is="_layout_open_54mps_13",cs="_layout__sidebar_54mps_18",ls="_layout__empty_54mps_23",ds="_layout__button_54mps_31",$={layout:rs,layout_open:is,layout__sidebar:cs,layout__empty:ls,layout__button:ds},us=()=>{const e=We(Xe),t=be(),{genreId:a}=Ce(),s=o=>{t(`/genre/${o}`)};return n.jsxs("main",{className:N($.layout,e&&$.layout_open),children:[n.jsx(F,{className:$.layout__sidebar,children:n.jsx(os,{onGenreClick:s})}),a?n.jsx(Je,{}):n.jsx("div",{className:$.layout__empty,children:n.jsxs("div",{className:$.layout__button,children:[n.jsx(Y,{edge:"start",color:"inherit","aria-label":"add",children:n.jsx(Se,{})}),n.jsx(U,{primary:"Add Genre"})]})})]})},fs=c.memo(us);export{fs as GenrePage};
