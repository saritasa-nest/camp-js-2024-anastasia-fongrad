import{s as Ne,a as Ge,r as d,u as Oe,e as ze,_ as A,j as n,b as g,c as w,f as se,d as Ae,g as D,h as De,T as Le,C as Te,i as Z,k as L,B as Ee,l as me,m as Me,n as $,o as H,p as W,q as Qe,t as pe,v as fe,w as ne,L as T,x as E,y as Ue,z as ge,A as ye,D as M,E as xe,P as Ve,I as X,G as R,F as be,H as qe,J as q,K as Ke,M as Ze,N as He,O as We,Q as Xe}from"./index-D3ZpGFq8.js";import{u as Je,F as _e,I as Ce,S as ve,M as O,a as Ye,d as et,b as je}from"./Search-khXkZSSi.js";import{B as ke}from"./Button-DZgElzP8.js";const tt=["className","component"];function st(e={}){const{themeId:t,defaultTheme:a,defaultClassName:s="MuiBox-root",generateClassName:o}=e,i=Ne("div",{shouldForwardProp:m=>m!=="theme"&&m!=="sx"&&m!=="as"})(Ge);return d.forwardRef(function(r,c){const h=Oe(a),l=ze(r),{className:p,component:y="div"}=l,x=A(l,tt);return n.jsx(i,g({as:y,ref:c,className:w(p,o?o(s):s),theme:t&&h[t]||h},x))})}function nt(e,t=0,a=1){return Ae(e,t,a)}function at(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let a=e.match(t);return a&&a[0].length===1&&(a=a.map(s=>s+s)),a?`rgb${a.length===4?"a":""}(${a.map((s,o)=>o<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function Se(e){if(e.type)return e;if(e.charAt(0)==="#")return Se(at(e));const t=e.indexOf("("),a=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(a)===-1)throw new Error(se(9,e));let s=e.substring(t+1,e.length-1),o;if(a==="color"){if(s=s.split(" "),o=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(se(10,o))}else s=s.split(",");return s=s.map(i=>parseFloat(i)),{type:a,values:s,colorSpace:o}}function ot(e){const{type:t,colorSpace:a}=e;let{values:s}=e;return t.indexOf("rgb")!==-1?s=s.map((o,i)=>i<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),t.indexOf("color")!==-1?s=`${a} ${s.join(" ")}`:s=`${s.join(", ")}`,`${t}(${s})`}function rt(e,t){return e=Se(e),t=nt(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,ot(e)}function it(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function ct(e){return parseFloat(e)}const lt=D("MuiBox",["root"]),dt=De(),B=st({themeId:Le,defaultTheme:dt,defaultClassName:lt.root,generateClassName:Te.generate});function ut(e){return Z("PrivateSwitchBase",e)}D("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ht=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],mt=e=>{const{classes:t,checked:a,disabled:s,edge:o}=e,i={root:["root",a&&"checked",s&&"disabled",o&&`edge${$(o)}`],input:["input"]};return H(i,ut,t)},pt=L(Ee)(({ownerState:e})=>g({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),ft=L("input",{shouldForwardProp:me})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),gt=d.forwardRef(function(t,a){const{autoFocus:s,checked:o,checkedIcon:i,className:u,defaultChecked:m,disabled:r,disableFocusRipple:c=!1,edge:h=!1,icon:l,id:p,inputProps:y,inputRef:x,name:b,onBlur:C,onChange:v,onFocus:k,readOnly:f,required:_=!1,tabIndex:U,type:I,value:J}=t,Be=A(t,ht),[Y,Pe]=Me({controlled:o,default:!!m,name:"SwitchBase",state:"checked"}),S=Je(),Fe=j=>{k&&k(j),S&&S.onFocus&&S.onFocus(j)},$e=j=>{C&&C(j),S&&S.onBlur&&S.onBlur(j)},we=j=>{if(j.nativeEvent.defaultPrevented)return;const te=j.target.checked;Pe(te),v&&v(j,te)};let P=r;S&&typeof P>"u"&&(P=S.disabled);const Re=I==="checkbox"||I==="radio",V=g({},t,{checked:Y,disabled:P,disableFocusRipple:c,edge:h}),ee=mt(V);return n.jsxs(pt,g({component:"span",className:w(ee.root,u),centerRipple:!0,focusRipple:!c,disabled:P,tabIndex:null,role:void 0,onFocus:Fe,onBlur:$e,ownerState:V,ref:a},Be,{children:[n.jsx(ft,g({autoFocus:s,checked:o,defaultChecked:m,className:ee.input,disabled:P,id:Re?p:void 0,name:b,onChange:we,readOnly:f,ref:x,required:_,ownerState:V,tabIndex:U,type:I},I==="checkbox"&&J===void 0?{}:{value:J},y)),Y?i:l]}))}),yt=W(n.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),xt=W(n.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),bt=W(n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function _t(e){return Z("MuiCheckbox",e)}const K=D("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Ct=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],vt=e=>{const{classes:t,indeterminate:a,color:s,size:o}=e,i={root:["root",a&&"indeterminate",`color${$(s)}`,`size${$(o)}`]},u=H(i,_t,t);return g({},t,u)},jt=L(gt,{shouldForwardProp:e=>me(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.indeterminate&&t.indeterminate,t[`size${$(a.size)}`],a.color!=="default"&&t[`color${$(a.color)}`]]}})(({theme:e,ownerState:t})=>g({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Qe(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${K.checked}, &.${K.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${K.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),kt=n.jsx(xt,{}),St=n.jsx(yt,{}),It=n.jsx(bt,{}),Bt=d.forwardRef(function(t,a){var s,o;const i=pe({props:t,name:"MuiCheckbox"}),{checkedIcon:u=kt,color:m="primary",icon:r=St,indeterminate:c=!1,indeterminateIcon:h=It,inputProps:l,size:p="medium",className:y}=i,x=A(i,Ct),b=c?h:r,C=c?h:u,v=g({},i,{color:m,indeterminate:c,size:p}),k=vt(v);return n.jsx(jt,g({type:"checkbox",inputProps:g({"data-indeterminate":c},l),icon:d.cloneElement(b,{fontSize:(s=b.props.fontSize)!=null?s:p}),checkedIcon:d.cloneElement(C,{fontSize:(o=C.props.fontSize)!=null?o:p}),ownerState:v,ref:a,className:w(k.root,y)},x,{classes:k}))});function Pt(e){return Z("MuiSkeleton",e)}D("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Ft=["animation","className","component","height","style","variant","width"];let z=e=>e,ae,oe,re,ie;const $t=e=>{const{classes:t,variant:a,animation:s,hasChildren:o,width:i,height:u}=e;return H({root:["root",a,s,o&&"withChildren",o&&!i&&"fitContent",o&&!u&&"heightAuto"]},Pt,t)},wt=fe(ae||(ae=z`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Rt=fe(oe||(oe=z`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Nt=L("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],a.animation!==!1&&t[a.animation],a.hasChildren&&t.withChildren,a.hasChildren&&!a.width&&t.fitContent,a.hasChildren&&!a.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const a=it(e.shape.borderRadius)||"px",s=ct(e.shape.borderRadius);return g({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:rt(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${s}${a}/${Math.round(s/.6*10)/10}${a}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&ne(re||(re=z`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),wt),({ownerState:e,theme:t})=>e.animation==="wave"&&ne(ie||(ie=z`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Rt,(t.vars||t).palette.action.hover)),ce=d.forwardRef(function(t,a){const s=pe({props:t,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:u="span",height:m,style:r,variant:c="text",width:h}=s,l=A(s,Ft),p=g({},s,{animation:o,component:u,variant:c,hasChildren:!!l.children}),y=$t(p);return n.jsx(Nt,g({as:u,ref:a,className:w(y.root,i),ownerState:p},l,{style:g({width:h,height:m},r)}))}),Gt="/camp-js-2024-anastasia-fongrad/pr-preview/pr-12/assets/loading-Crz_qi3L.webp",Ot="_loading__image_3ghzo_1",zt={loading__image:Ot},At=()=>n.jsx(T,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:n.jsx("img",{src:Gt,className:zt.loading__image})}),Dt=d.memo(At),Lt=E(e=>e.genres.genres,e=>e),Tt=E(e=>e.genres.isLoading,e=>e),Et=E(e=>e.genres.hasNext,e=>e);E(e=>e.genres.error,e=>e);const Mt=()=>n.jsx(T,{alignItems:"center",sx:{borderBottom:1,borderColor:"rgba(0 0 0 / 5%)"},children:n.jsxs(B,{display:"flex",flex:"1 1 0",flexDirection:"column",gap:1,children:[n.jsx(ce,{width:"40%"}),n.jsx(ce,{width:"60%"})]})}),Qt=d.memo(Mt);function Q(){const{pathname:e,search:t}=Ue(),a=ge(),s=new URLSearchParams(t),o=Object.fromEntries(s.entries()),i=r=>new URLSearchParams(t).get(r)??null,u=r=>{const c={};return r.map(h=>{const l=i(h);c[h]=l}),c};function m(r,c=e,h){const l=new URLSearchParams(t);Object.entries(r).forEach(([x,b])=>{b==null?l.delete(x):l.set(x,String(b))});const p=l.toString(),y=`${c}${p?`?${p}`:""}`;a(y,{replace:h})}return{queryParams:o,getQueryParamByKey:i,getQueryParamsByKeys:u,setQueryParams:r=>m(r),directToPathWithQueryParams:(r,c)=>m(r,c,!1)}}const Ut="_sort_1capx_1",Vt={sort:Ut};var Ie=(e=>(e.SortByNameAsc="Sort by name (A - Z)",e.SortByNameDesc="Sort by name (Z - A)",e.SortByTypeAsc="Sort by type (A - Z)",e.SortByTypeDesc="Sort by type (Z - A)",e))(Ie||{});const N={"Sort by name (A - Z)":{sortField:"name",sortDirection:"asc"},"Sort by name (Z - A)":{sortField:"name",sortDirection:"desc"},"Sort by type (A - Z)":{sortField:"type",sortDirection:"asc"},"Sort by type (Z - A)":{sortField:"type",sortDirection:"desc"}},qt=()=>{const{getQueryParamsByKeys:e,setQueryParams:t}=Q(),{sortField:a,sortDirection:s}=e(["sortField","sortDirection"]),o={sortField:a,sortDirection:s},[i,u]=d.useState(o),m=Object.values(Ie),r=l=>{const p=l.target.value,y=N[p];u(y)};function c(l){return Object.keys(N).find(p=>N[p].sortField===l.sortField&&N[p].sortDirection===l.sortDirection)??"Sort by name (A - Z)"}const h=l=>{l.stopPropagation(),u({sortDirection:null,sortField:null})};return d.useEffect(()=>{i!=null&&t(i)},[i]),n.jsx(B,{className:Vt.sort,children:n.jsxs(_e,{children:[n.jsx(Ce,{id:"single-select-label",children:"Sort By"}),n.jsxs(ve,{labelId:"single-select-label",value:c(i),onChange:r,label:"Sort By",children:[m.map(l=>n.jsx(O,{value:l,children:l},l)),n.jsx(O,{children:n.jsx(ke,{onClick:h,variant:"outlined",color:"secondary",children:"Reset"})})]})]})})},Kt=d.memo(qt),Zt=d.forwardRef(({selected:e,genre:t,onClick:a},s)=>n.jsx(T,{disablePadding:!0,ref:s,children:n.jsx(ye,{onClick:a,selected:e,children:n.jsx(M,{primary:t.name,secondary:`Type - ${t.type}`})})})),le=d.memo(Zt),Ht="_search_6oqtb_1",Wt="_search__form_6oqtb_7",G={search:Ht,search__form:Wt,"search__input-base":"_search__input-base_6oqtb_14","search__icon-button":"_search__icon-button_6oqtb_19"},Xt=()=>{const{getQueryParamByKey:e,setQueryParams:t}=Q(),a=e("search")??"",[s,o]=d.useState(a);function i(u){u.preventDefault(),o(u.target.value)}return d.useEffect(()=>{const u=(s==null?void 0:s.length)!==0?s:null;t({search:u})},[s]),n.jsxs(B,{className:G.search,children:[n.jsx(xe,{variant:"h5",component:"h5",gutterBottom:!0,children:"search"}),n.jsxs(Ve,{component:"form",className:G.search__form,children:[n.jsx(Ye,{className:G["search__input-base"],placeholder:"Search Genres ...","aria-label":"search genres",value:s,onChange:i}),n.jsx(X,{type:"button",className:G["search__icon-button"],"aria-label":"search",color:"primary",children:n.jsx(et,{})})]})]})},Jt=d.memo(Xt),Yt="_filters_1028r_1",de={filters:Yt},ue=[{value:R.FilterType.Genres,label:"Genres"},{value:R.FilterType.ExplicitGenres,label:"Explicit genres"},{value:R.FilterType.Themes,label:"Themes"},{value:R.FilterType.Demographics,label:"Demographics"}],es=()=>{var m;const{getQueryParamByKey:e,setQueryParams:t}=Q(),a=e("filter")==null?[]:((m=e("filter"))==null?void 0:m.split(","))??[],[s,o]=d.useState(a),i=r=>{const{value:c}=r.target,h=typeof c=="string"?c.split(","):c;o(h)},u=r=>{r.stopPropagation(),o([])};return d.useEffect(()=>{const r=s.length===0?null:s;t({filter:r})},[s]),n.jsx(B,{className:de.filters,children:n.jsxs(_e,{children:[n.jsx(Ce,{id:"multiple-filters-select-label",children:"Select Filters"}),n.jsxs(ve,{className:de.filters__select,labelId:"multiple-filters-select-label",label:"Select Filters",multiple:!0,value:s,onChange:i,renderValue:r=>n.jsx(xe,{noWrap:!0,children:r.map(c=>{var h;return(h=ue.find(l=>l.value===c))==null?void 0:h.label}).join(", ")}),children:[ue.map(r=>n.jsxs(O,{value:r.value,children:[n.jsx(Bt,{checked:s.includes(r.value)}),n.jsx(M,{primary:r.label})]},r.value)),n.jsx(O,{children:n.jsx(ke,{onClick:u,variant:"outlined",color:"secondary",children:"Reset"})})]})]})})},ts=d.memo(es);function ss(e,t){const[a,s]=d.useState(e),o=t*1e3;return d.useEffect(()=>{const i=setTimeout(()=>{s(e)},o);return()=>{clearTimeout(i)}},[e,t]),a}const he={"genre-list":"_genre-list_19jpa_1","genre-list__items":"_genre-list__items_19jpa_10"},ns=({onGenreClick:e})=>{const{genreId:t}=be(),[a,s]=d.useState(t?Number(t):void 0),o=qe(),{getQueryParamsByKeys:i}=Q(),u=q(Lt),m=q(Tt),r=q(Et),c=d.useRef(null),h=d.useRef(),l=d.useCallback(f=>{var _;(_=h.current)==null||_.disconnect(),f&&(h.current=new IntersectionObserver(U=>{var I;U[0].isIntersecting&&r&&(k(r),(I=h.current)==null||I.disconnect())}),h.current.observe(f))},[r]),p=d.useCallback(f=>{s(f),e(f)},[e]),{search:y,filter:x,sortField:b,sortDirection:C}=i(["search","filter","sortField","sortDirection"]),v=ss(y,1),k=d.useCallback(f=>o(Ke({search:v,filter:x,sort:b,direction:C,nextCursor:f})),[v,x,b,C]);return d.useEffect(()=>{var f;(f=c.current)==null||f.scrollTo({top:0,behavior:"instant"}),k(null)},[v,x,b,C]),n.jsxs(B,{className:he["genre-list"],children:[n.jsx(Jt,{}),n.jsx(ts,{}),n.jsx(Kt,{}),n.jsxs(Ze,{className:he["genre-list__items"],ref:c,children:[n.jsx(T,{disablePadding:!0,children:n.jsxs(ye,{children:[n.jsx(X,{edge:"start",color:"inherit","aria-label":"add",children:n.jsx(je,{})}),n.jsx(M,{primary:"Add Genre"})]})}),m&&u.length===0&&Array.from(new Array(10)).map((f,_)=>n.jsx(Qt,{},_)),u.map((f,_)=>u.length===_+1?n.jsx(le,{genre:f,ref:l,onClick:()=>p(f.id),selected:f.id===a},_):n.jsx(le,{genre:f,onClick:()=>p(f.id),selected:f.id===a},_)),m&&n.jsx(Dt,{})]})]})},as=d.memo(ns),os="_layout_54mps_1",rs="_layout_open_54mps_13",is="_layout__sidebar_54mps_18",cs="_layout__empty_54mps_23",ls="_layout__button_54mps_31",F={layout:os,layout_open:rs,layout__sidebar:is,layout__empty:cs,layout__button:ls},ds=()=>{const e=He(We),t=ge(),{genreId:a}=be(),s=o=>{t(`/genre/${o}`)};return n.jsxs("main",{className:w(F.layout,e&&F.layout_open),children:[n.jsx(B,{className:F.layout__sidebar,children:n.jsx(as,{onGenreClick:s})}),a?n.jsx(Xe,{}):n.jsx("div",{className:F.layout__empty,children:n.jsxs("div",{className:F.layout__button,children:[n.jsx(X,{edge:"start",color:"inherit","aria-label":"add",children:n.jsx(je,{})}),n.jsx(M,{primary:"Add Genre"})]})})]})},ps=d.memo(ds);export{ps as GenrePage};
