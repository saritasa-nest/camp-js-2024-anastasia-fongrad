import{m as _,l as D,r as d,w as u,af as ro,ag as ao,z as b,n as m,ae as E,x as y,K as no,_ as k,R as io,j as s,i as g,v as j,ah as lo,T as v,D as co,aa as po,B as mo,g as $,s as uo,a2 as go,f as xo,ai as ho,ad as fo,N as bo,a9 as Co}from"./index-BoCyXbXs.js";import{z as h,u as vo,C,T as A,P as Y,t as _o,s as Do,a as yo,L as ko}from"./PasswordField-VlKx8U5z.js";import{B as q}from"./Button-Sll35Ou-.js";import"./OutlinedInput-CP2Zxp7_.js";import"./Select-B_FF06KA.js";function jo(o){return D("MuiDialog",o)}const B=_("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),H=d.createContext({}),wo=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Wo=u(ro,{name:"MuiDialog",slot:"Backdrop",overrides:(o,e)=>e.backdrop})({zIndex:-1}),No=o=>{const{classes:e,scroll:t,maxWidth:r,fullWidth:c,fullScreen:a}=o,p={root:["root"],container:["container",`scroll${b(t)}`],paper:["paper",`paperScroll${b(t)}`,`paperWidth${b(String(r))}`,c&&"paperFullWidth",a&&"paperFullScreen"]};return j(p,jo,e)},Ro=u(ao,{name:"MuiDialog",slot:"Root",overridesResolver:(o,e)=>e.root})({"@media print":{position:"absolute !important"}}),To=u("div",{name:"MuiDialog",slot:"Container",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.container,e[`scroll${b(t.scroll)}`]]}})(({ownerState:o})=>m({height:"100%","@media print":{height:"auto"},outline:0},o.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},o.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Mo=u(E,{name:"MuiDialog",slot:"Paper",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.paper,e[`scrollPaper${b(t.scroll)}`],e[`paperWidth${b(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(({theme:o,ownerState:e})=>m({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:o.breakpoints.unit==="px"?Math.max(o.breakpoints.values.xs,444):`max(${o.breakpoints.values.xs}${o.breakpoints.unit}, 444px)`,[`&.${B.paperScrollBody}`]:{[o.breakpoints.down(Math.max(o.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${o.breakpoints.values[e.maxWidth]}${o.breakpoints.unit}`,[`&.${B.paperScrollBody}`]:{[o.breakpoints.down(o.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${B.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Po=d.forwardRef(function(e,t){const r=y({props:e,name:"MuiDialog"}),c=no(),a={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":i,BackdropComponent:n,BackdropProps:l,children:N,className:R,disableEscapeKeyDown:w=!1,fullScreen:K=!1,fullWidth:V=!1,maxWidth:X="sm",onBackdropClick:L,onClick:U,onClose:T,open:z,PaperComponent:Z=E,PaperProps:I={},scroll:G="paper",TransitionComponent:J=lo,transitionDuration:O=a,TransitionProps:Q}=r,oo=k(r,wo),W=m({},r,{disableEscapeKeyDown:w,fullScreen:K,fullWidth:V,maxWidth:X,scroll:G}),M=No(W),P=d.useRef(),eo=x=>{P.current=x.target===x.currentTarget},so=x=>{U&&U(x),P.current&&(P.current=null,L&&L(x),T&&T(x,"backdropClick"))},S=io(i),to=d.useMemo(()=>({titleId:S}),[S]);return s.jsx(Ro,m({className:g(M.root,R),closeAfterTransition:!0,components:{Backdrop:Wo},componentsProps:{backdrop:m({transitionDuration:O,as:n},l)},disableEscapeKeyDown:w,onClose:T,open:z,ref:t,onClick:so,ownerState:W},oo,{children:s.jsx(J,m({appear:!0,in:z,timeout:O,role:"presentation"},Q,{children:s.jsx(To,{className:g(M.container),onMouseDown:eo,ownerState:W,children:s.jsx(Mo,m({as:Z,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":S},I,{className:g(M.paper,I.className),ownerState:W,children:s.jsx(H.Provider,{value:to,children:N})}))})}))}))});function So(o){return D("MuiDialogActions",o)}_("MuiDialogActions",["root","spacing"]);const $o=["className","disableSpacing"],Ao=o=>{const{classes:e,disableSpacing:t}=o;return j({root:["root",!t&&"spacing"]},So,e)},Bo=u("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,!t.disableSpacing&&e.spacing]}})(({ownerState:o})=>m({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!o.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Fo=d.forwardRef(function(e,t){const r=y({props:e,name:"MuiDialogActions"}),{className:c,disableSpacing:a=!1}=r,p=k(r,$o),i=m({},r,{disableSpacing:a}),n=Ao(i);return s.jsx(Bo,m({className:g(n.root,c),ownerState:i,ref:t},p))});function Eo(o){return D("MuiDialogContent",o)}_("MuiDialogContent",["root","dividers"]);function Lo(o){return D("MuiDialogTitle",o)}const Uo=_("MuiDialogTitle",["root"]),zo=["className","dividers"],Io=o=>{const{classes:e,dividers:t}=o;return j({root:["root",t&&"dividers"]},Eo,e)},Oo=u("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,t.dividers&&e.dividers]}})(({theme:o,ownerState:e})=>m({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(o.vars||o).palette.divider}`,borderBottom:`1px solid ${(o.vars||o).palette.divider}`}:{[`.${Uo.root} + &`]:{paddingTop:0}})),Yo=d.forwardRef(function(e,t){const r=y({props:e,name:"MuiDialogContent"}),{className:c,dividers:a=!1}=r,p=k(r,zo),i=m({},r,{dividers:a}),n=Io(i);return s.jsx(Oo,m({className:g(n.root,c),ownerState:i,ref:t},p))});function qo(o){return D("MuiDialogContentText",o)}_("MuiDialogContentText",["root"]);const Ho=["children","className"],Ko=o=>{const{classes:e}=o,r=j({root:["root"]},qo,e);return m({},e,r)},Vo=u(v,{shouldForwardProp:o=>co(o)||o==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(o,e)=>e.root})({}),Xo=d.forwardRef(function(e,t){const r=y({props:e,name:"MuiDialogContentText"}),{className:c}=r,a=k(r,Ho),p=Ko(a);return s.jsx(Vo,m({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:a,className:g(p.root,c)},r,{classes:p}))}),Zo=["className","id"],Go=o=>{const{classes:e}=o;return j({root:["root"]},Lo,e)},Jo=u(v,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(o,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Qo=d.forwardRef(function(e,t){const r=y({props:e,name:"MuiDialogTitle"}),{className:c,id:a}=r,p=k(r,Zo),i=r,n=Go(i),{titleId:l=a}=d.useContext(H);return s.jsx(Jo,m({component:"h2",className:g(n.root,c),ownerState:i,ref:t,variant:"h6",id:a??l},p))}),oe="_form_knxh3_1",ee="_form__control_knxh3_5",se="_form__error_knxh3_10",te="_form__button_knxh3_14",f={form:oe,form__control:ee,form__error:se,form__button:te},re=h.object({email:h.string().min(1,"Email is required").email({message:"Invalid email address"}),firstName:h.string().min(1,{message:"First name is required"}),lastName:h.string().min(1,{message:"Last name is required"}),password:h.string().min(8,{message:"Password must be at least 8 characters long"}).regex(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,{message:"Password must contain at least one letter and one digit"}),passwordConfirm:h.string().min(8,{message:"Please re-type your password"})}).refine(o=>o.password===o.passwordConfirm,{message:"Passwords do not match",path:["passwordConfirm"]}),ae={email:"",firstName:"",lastName:"",password:"",passwordConfirm:""},ne=({onSubmit:o,serverErrors:e})=>{var p;const t=d.useMemo(()=>po.mapServerErrorsToFieldErrors(e),[e]),{handleSubmit:r,formState:{errors:c},control:a}=vo({defaultValues:ae,resolver:_o(re),mode:"onChange",errors:t});return s.jsxs(mo,{component:"form",onSubmit:r(o),className:f.form,children:[s.jsx(C,{name:"email",control:a,render:({field:i,fieldState:n})=>{var l;return s.jsx(A,{...i,label:"Email",fullWidth:!0,error:n.invalid,helperText:(l=n.error)==null?void 0:l.message,className:f.form__control})}}),s.jsx(C,{name:"firstName",control:a,render:({field:i,fieldState:n})=>{var l;return s.jsx(A,{...i,label:"First Name",fullWidth:!0,error:n.invalid,helperText:(l=n.error)==null?void 0:l.message,className:f.form__control})}}),s.jsx(C,{name:"lastName",control:a,render:({field:i,fieldState:n})=>{var l;return s.jsx(A,{...i,label:"Last Name",fullWidth:!0,error:n.invalid,helperText:(l=n.error)==null?void 0:l.message,className:f.form__control})}}),s.jsx(C,{name:"password",control:a,render:({field:i,fieldState:n})=>{var l;return s.jsx(Y,{field:i,hasError:n.invalid,errorMessage:(l=n.error)==null?void 0:l.message,label:"Password"})}}),s.jsx(C,{name:"passwordConfirm",control:a,render:({field:i,fieldState:n})=>{var l;return s.jsx(Y,{field:i,hasError:n.invalid,errorMessage:(l=n.error)==null?void 0:l.message,label:"Re-type Password"})}}),s.jsx(v,{component:"p",gutterBottom:!0,className:f.form__error,children:(p=c==null?void 0:c.root)==null?void 0:p.message}),s.jsx(q,{type:"submit",fullWidth:!0,variant:"contained",className:f.form__button,children:"Register"})]})},ie=d.memo(ne),le=({isAlertOpen:o,onAlertClose:e,title:t,description:r})=>s.jsxs(Po,{open:o,onClose:e,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[s.jsx(Qo,{id:"alert-dialog-title",children:t}),s.jsx(Yo,{children:s.jsx(Xo,{id:"alert-dialog-description",children:r})}),s.jsx(Fo,{children:s.jsx(q,{onClick:e,children:"Close"})})]}),ce=d.memo(le),de="_layout_covh8_1",pe="_layout_open_covh8_12",me="_layout__card_covh8_17",F={layout:de,layout_open:pe,layout__card:me},ue=()=>{const o="/login",e=$(uo),[t,r]=d.useState(!1),c=go(),a=xo(),p=$(Do),i=$(yo),n=d.useMemo(()=>i??[],[i]),l=d.useCallback(()=>{r(!1),c(o)},[c]),N=d.useCallback(R=>{a(ho(R)).then(w=>{w.type.endsWith("fulfilled")&&r(!0)})},[]);return d.useEffect(()=>()=>{a(fo())},[a]),s.jsxs("main",{className:`${F.layout} ${e?F.layout_open:""}`,children:[s.jsx(ce,{isAlertOpen:t,onAlertClose:l,title:"Registration successful",description:"Now you can log in a system"}),s.jsxs(E,{elevation:3,className:F.layout__card,children:[s.jsx(v,{variant:"h5",component:"h5",children:"Registration"}),s.jsx(ie,{onSubmit:N,serverErrors:n}),s.jsxs(v,{component:"p",children:["Already have an account?",s.jsx(ko,{component:bo,to:o,children:"Login"})]})]}),p&&s.jsx(Co,{})]})},Ce=d.memo(ue);export{Ce as RegistrationPage};
