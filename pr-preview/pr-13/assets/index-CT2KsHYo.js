import{m as v,l as D,r as d,w as m,ae as to,af as ao,z as b,n as p,ad as A,x as y,K as ro,_ as w,R as no,j as a,i as g,v as N,ag as io,T as _,D as lo,B as co,e as po,s as uo,a2 as mo,aa as go,N as xo}from"./index-DKRBk0iP.js";import{z as f,u as fo,C,T,P as q,t as ho,E as bo,L as Co}from"./PasswordField-DDCftXz8.js";import{B as z}from"./Button-DgXjCY_O.js";import"./OutlinedInput-Dj5Noa6t.js";import"./Select-Bb6cyZCW.js";function _o(o){return D("MuiDialog",o)}const M=v("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),O=d.createContext({}),vo=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Do=m(to,{name:"MuiDialog",slot:"Backdrop",overrides:(o,e)=>e.backdrop})({zIndex:-1}),yo=o=>{const{classes:e,scroll:t,maxWidth:s,fullWidth:n,fullScreen:l}=o,c={root:["root"],container:["container",`scroll${b(t)}`],paper:["paper",`paperScroll${b(t)}`,`paperWidth${b(String(s))}`,n&&"paperFullWidth",l&&"paperFullScreen"]};return N(c,_o,e)},wo=m(ao,{name:"MuiDialog",slot:"Root",overridesResolver:(o,e)=>e.root})({"@media print":{position:"absolute !important"}}),No=m("div",{name:"MuiDialog",slot:"Container",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.container,e[`scroll${b(t.scroll)}`]]}})(({ownerState:o})=>p({height:"100%","@media print":{height:"auto"},outline:0},o.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},o.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),ko=m(A,{name:"MuiDialog",slot:"Paper",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.paper,e[`scrollPaper${b(t.scroll)}`],e[`paperWidth${b(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(({theme:o,ownerState:e})=>p({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:o.breakpoints.unit==="px"?Math.max(o.breakpoints.values.xs,444):`max(${o.breakpoints.values.xs}${o.breakpoints.unit}, 444px)`,[`&.${M.paperScrollBody}`]:{[o.breakpoints.down(Math.max(o.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${o.breakpoints.values[e.maxWidth]}${o.breakpoints.unit}`,[`&.${M.paperScrollBody}`]:{[o.breakpoints.down(o.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${M.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),jo=d.forwardRef(function(e,t){const s=y({props:e,name:"MuiDialog"}),n=ro(),l={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":u,BackdropComponent:r,BackdropProps:i,children:j,className:Y,disableEscapeKeyDown:B=!1,fullScreen:K=!1,fullWidth:V=!1,maxWidth:X="sm",onBackdropClick:F,onClick:E,onClose:W,open:L,PaperComponent:H=A,PaperProps:U={},scroll:Z="paper",TransitionComponent:G=io,transitionDuration:I=l,TransitionProps:J}=s,Q=w(s,vo),k=p({},s,{disableEscapeKeyDown:B,fullScreen:K,fullWidth:V,maxWidth:X,scroll:Z}),P=yo(k),S=d.useRef(),oo=x=>{S.current=x.target===x.currentTarget},eo=x=>{E&&E(x),S.current&&(S.current=null,F&&F(x),W&&W(x,"backdropClick"))},R=no(u),so=d.useMemo(()=>({titleId:R}),[R]);return a.jsx(wo,p({className:g(P.root,Y),closeAfterTransition:!0,components:{Backdrop:Do},componentsProps:{backdrop:p({transitionDuration:I,as:r},i)},disableEscapeKeyDown:B,onClose:W,open:L,ref:t,onClick:eo,ownerState:k},Q,{children:a.jsx(G,p({appear:!0,in:L,timeout:I,role:"presentation"},J,{children:a.jsx(No,{className:g(P.container),onMouseDown:oo,ownerState:k,children:a.jsx(ko,p({as:H,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":R},U,{className:g(P.paper,U.className),ownerState:k,children:a.jsx(O.Provider,{value:so,children:j})}))})}))}))});function Wo(o){return D("MuiDialogActions",o)}v("MuiDialogActions",["root","spacing"]);const Po=["className","disableSpacing"],So=o=>{const{classes:e,disableSpacing:t}=o;return N({root:["root",!t&&"spacing"]},Wo,e)},Ro=m("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,!t.disableSpacing&&e.spacing]}})(({ownerState:o})=>p({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!o.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),To=d.forwardRef(function(e,t){const s=y({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:l=!1}=s,c=w(s,Po),u=p({},s,{disableSpacing:l}),r=So(u);return a.jsx(Ro,p({className:g(r.root,n),ownerState:u,ref:t},c))});function Mo(o){return D("MuiDialogContent",o)}v("MuiDialogContent",["root","dividers"]);function $o(o){return D("MuiDialogTitle",o)}const Ao=v("MuiDialogTitle",["root"]),Bo=["className","dividers"],Fo=o=>{const{classes:e,dividers:t}=o;return N({root:["root",t&&"dividers"]},Mo,e)},Eo=m("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,t.dividers&&e.dividers]}})(({theme:o,ownerState:e})=>p({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(o.vars||o).palette.divider}`,borderBottom:`1px solid ${(o.vars||o).palette.divider}`}:{[`.${Ao.root} + &`]:{paddingTop:0}})),Lo=d.forwardRef(function(e,t){const s=y({props:e,name:"MuiDialogContent"}),{className:n,dividers:l=!1}=s,c=w(s,Bo),u=p({},s,{dividers:l}),r=Fo(u);return a.jsx(Eo,p({className:g(r.root,n),ownerState:u,ref:t},c))});function Uo(o){return D("MuiDialogContentText",o)}v("MuiDialogContentText",["root"]);const Io=["children","className"],qo=o=>{const{classes:e}=o,s=N({root:["root"]},Uo,e);return p({},e,s)},zo=m(_,{shouldForwardProp:o=>lo(o)||o==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(o,e)=>e.root})({}),Oo=d.forwardRef(function(e,t){const s=y({props:e,name:"MuiDialogContentText"}),{className:n}=s,l=w(s,Io),c=qo(l);return a.jsx(zo,p({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:l,className:g(c.root,n)},s,{classes:c}))}),Yo=["className","id"],Ko=o=>{const{classes:e}=o;return N({root:["root"]},$o,e)},Vo=m(_,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(o,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Xo=d.forwardRef(function(e,t){const s=y({props:e,name:"MuiDialogTitle"}),{className:n,id:l}=s,c=w(s,Yo),u=s,r=Ko(u),{titleId:i=l}=d.useContext(O);return a.jsx(Vo,p({component:"h2",className:g(r.root,n),ownerState:u,ref:t,variant:"h6",id:l??i},c))}),Ho="_form_knxh3_1",Zo="_form__control_knxh3_5",Go="_form__error_knxh3_10",Jo="_form__button_knxh3_14",h={form:Ho,form__control:Zo,form__error:Go,form__button:Jo},Qo=f.object({email:f.string().min(1,"Email is required").email({message:"Invalid email address"}),firstName:f.string().min(1,{message:"First name is required"}),lastName:f.string().min(1,{message:"Last name is required"}),password:f.string().min(8,{message:"Password must be at least 8 characters long"}).regex(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,{message:"Password must contain at least one letter and one digit"}),passwordConfirm:f.string().min(8,{message:"Please re-type your password"})}).refine(o=>o.password===o.passwordConfirm,{message:"Passwords do not match",path:["passwordConfirm"]}),oe={email:"",firstName:"",lastName:"",password:"",passwordConfirm:""};function ee(o){return o==="email"||o==="password"}const se=({onSubmit:o,serverErrors:e})=>{var c,u;const{handleSubmit:t,formState:{errors:s},control:n,setError:l}=fo({defaultValues:oe,resolver:ho(Qo)});return d.useEffect(()=>{e.forEach(r=>{ee(r.controlName)&&l(r.controlName,{type:"manual",message:r.controlErrors[0]})})},[e]),a.jsxs(co,{component:"form",onSubmit:t(o),className:h.form,children:[a.jsx(C,{name:"email",control:n,render:({field:r})=>{var i;return a.jsx(T,{...r,label:"Email",InputLabelProps:{required:!0},fullWidth:!0,error:s.email!=null,helperText:(i=s==null?void 0:s.email)==null?void 0:i.message,className:h.form__control})}}),a.jsx(C,{name:"firstName",control:n,render:({field:r})=>{var i;return a.jsx(T,{...r,label:"First Name",InputLabelProps:{required:!0},fullWidth:!0,error:s.firstName!=null,helperText:(i=s==null?void 0:s.firstName)==null?void 0:i.message,className:h.form__control})}}),a.jsx(C,{name:"lastName",control:n,render:({field:r})=>{var i;return a.jsx(T,{...r,label:"Last Name",InputLabelProps:{required:!0},fullWidth:!0,error:s.lastName!=null,helperText:(i=s==null?void 0:s.lastName)==null?void 0:i.message,className:h.form__control})}}),a.jsx(C,{name:"password",control:n,render:({field:r})=>{var i;return a.jsx(q,{field:r,hasError:s.password!=null,errorMessage:(i=s==null?void 0:s.password)==null?void 0:i.message,label:"Password"})}}),a.jsx(C,{name:"passwordConfirm",control:n,render:({field:r})=>{var i;return a.jsx(q,{field:r,hasError:s.passwordConfirm!=null,errorMessage:(i=s==null?void 0:s.passwordConfirm)==null?void 0:i.message,label:"Re-type Password"})}}),a.jsx(_,{component:"p",gutterBottom:!0,className:h.form__error,children:((c=e[0])==null?void 0:c.controlName)==="form"&&((u=e[0])==null?void 0:u.controlErrors[0])}),a.jsx(z,{type:"submit",fullWidth:!0,variant:"contained",className:h.form__button,children:"Register"})]})},te=d.memo(se),ae=({isAlertOpen:o,onAlertClose:e,title:t,description:s})=>a.jsxs(jo,{open:o,onClose:e,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[a.jsx(Xo,{id:"alert-dialog-title",children:t}),a.jsx(Lo,{children:a.jsx(Oo,{id:"alert-dialog-description",children:s})}),a.jsx(To,{children:a.jsx(z,{onClick:e,children:"Close"})})]}),re=d.memo(ae),ne="_layout_covh8_1",ie="_layout_open_covh8_12",le="_layout__card_covh8_17",$={layout:ne,layout_open:ie,layout__card:le},ce=()=>{const o=po(uo),[e,t]=d.useState([]),[s,n]=d.useState(!1),l=mo(),c="/login",u=d.useCallback(()=>{n(!1),l(c)},[l]),r=d.useCallback(i=>{go.register(i).then(()=>n(!0)).catch(j=>t(bo.parseError(j)))},[]);return a.jsxs("main",{className:`${$.layout} ${o?$.layout_open:""}`,children:[a.jsx(re,{isAlertOpen:s,onAlertClose:u,title:"Registration successful",description:"Now you can log in a system"}),a.jsxs(A,{elevation:3,className:$.layout__card,children:[a.jsx(_,{variant:"h5",component:"h5",children:"Registration"}),a.jsx(te,{onSubmit:r,serverErrors:e}),a.jsxs(_,{component:"p",children:["Already have an account?",a.jsx(Co,{component:xo,to:c,children:"Login"})]})]})]})},xe=d.memo(ce);export{xe as RegistrationPage};
