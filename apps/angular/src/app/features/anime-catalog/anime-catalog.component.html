<camp-header/>
<main class="main">
	<section class="main__table">
		<div class="main__container container">
			<h1 class="main__header">
				Anime Catalog
			</h1>
			<form [formGroup]="animeFiltersForm" class="main__form">
				<mat-form-field class="main__type-select" appearance="fill">
					<mat-label>Anime type</mat-label>
					<mat-select formControlName="animeTypes" multiple>
						@for (option of selectTypes; track option) {
							<mat-option [value]="option">{{ option }}</mat-option>
						}
					</mat-select>
				</mat-form-field>
				<div class="main__search-group">
					<mat-form-field appearance="fill">
						<mat-label>Search</mat-label>
						<input matInput formControlName="searchQuery" placeholder="Search anime..." type="search">
					</mat-form-field>
				</div>
			</form>
			<camp-anime-table [animeList]="(paginatedAnime$ | async)?.results" (sortChange)="routeParameterService.changeSortParameter($event)"/>
			<mat-paginator
				[length]="(paginatedAnime$ | async)?.totalCount"
				[pageSize]="(animeParameters$ | async)?.limitPerPage"
				[pageIndex]="(animeParameters$ | async)?.pageNumber"
				[pageSizeOptions]="pageSizeOptions"
				(page)="routeParameterService.changePagination($event.pageSize, $event.pageIndex)"
				aria-label="Select page"
			>
			</mat-paginator>
		</div>
	</section>
</main>
